# Chapter 12 -- 檔案處理 #

* [12.1 檔案的觀念](#121-檔案的觀念)
* [12.2 有緩衝區的檔案處理函數](#122-有緩衝區的檔案處理函數)
* [12.3 無緩衝區的膽案處理函數](#123-無緩衝區的膽案處理函數)
* [12.4 二進位檔案的使用](#124-二進位檔案的使用)
* [note](#note)

## 12.1 檔案的觀念 ##

* 依目的區分的檔案類型
  * 程式檔
  * 執行檔: 編譯與連結過後的可執行檔案。
  * 資料檔: 程式執行所產生，或是程式執行所需要的資料。

* 依儲存形式區分的檔案類型
  * 文字檔(text file):
    * 以 ascii 碼儲存，每個字元皆佔有1個位元組。
  * 二進位檔(binary file):
    * 如影像檔或執行檔。
    * 相同的資料以二進位檔儲存，會比以文字檔儲存來得小。

* 依存取權限區分的檔案類型
  * 一般檔案:
    * 可讀可寫
  * 唯獨檔案(read-only):
    * 只可讀

* 檔案處理函數種類
  * 有緩衝區
    * 以緩衝區(buffer)做為程式與資料檔的橋樑。
  * 無緩衝區
    * 需自行設定資料所需使用的換衝區。

* 檔案處理步驟
  * 開啟檔案
  * 更新檔案內容
  * 關閉檔案: 檔案使用完畢，須將檔案關閉才能確保資料全部寫入檔案。

## 12.2 有緩衝區的檔案處理函數 ##

* 優點
  * 磁碟不需要一直輸入與輸出，增加程式執行的速度

* 缺點
  * 須佔用一塊記憶體空間
  * 若未關閉檔案或系統當機，留在緩衝區裡的資料尚未寫入磁碟，將造成資料遺失。

* 指向檔案的指標
  * FILE *ptr;

* 處理有緩衝區的檔案
  * fopen("欲開啟檔案名稱", "存取模式");
  * 模式
    * 讀取資料 r: 開啟前，檔案須存在
    * 寫入資料 w: 檔案已存在，將覆蓋該檔案；如檔案不存在，則系統建立檔案。
  * EOF
    * 檔案結尾(end of file, EOF)
    * 定義在 stdio.h 中的一個整數值，其值為 -1 。

## 12.3 無緩衝區的膽案處理函數 ##

* 無緩衝區的檔案處理函數定義在 fcntl.h 及 io.h 中。
  * fcntl 是 file control(檔案控制)
  * io 是 input/output
  * 檔案屬性的常數定義放在 sys/stat.h 中。

## 12.4 二進位檔案的使用 ##

## note ##

* 使用 fopen() 前，須先確認執行檔的路徑。
